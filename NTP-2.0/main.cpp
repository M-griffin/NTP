/*
 Main.cpp  NTP 2.0a Nemesis Transfer Protocol
           (c) Mercyful Fate 2003/2004



 01-01-04 + Trying to finish up node GUI and get Outgoing connections ready.
 03-31-04 - Working on Updating GUI, and Finishing it, and updating core from 1.8 to 1.10b :)
 04-03-04 - Updated Transfer code to 1.10, Downloads are now working again.. :)
            Ipdated Version Strings to #defines

*/
            
#include <stdio.h>
#include <stdlib.h>

#include "global.h"
#include "server.h"

#ifdef _WIN32
#include <process.h>
#include <winsock.h>

#else  // Linux & OS/2
#include <pthread.h>
#endif
 
// NodeGUI
char *aBuf1={"[40m[2J[16C[0;1mлм[2;3Hлллм[C[47mл[40mллллллллллВА[Cnemesis[Ctransfer[Cprotocol[3;1H[34;44mА[C[37;40mллплл[47mл[40mл[0mн[1;34mА[37mл[47mн[C[40mмммлп[C[0;34mм[1;44mАБВВ[40mлллллллл[47mВ[40mллл[47mВВВВ[40mллл[44mп[0;34mп[4;3H[1;37mллн[Cп[47mл[40mл[0mн[C[1mл[47mн[C[40mл[47mн[C[30;40mммммммм[13Csx[C[34mмл[44mп[0;34mп[4C[1mлм[5;3H[37mппп[5C[30mмммммммл[47mВ[40mл[47mлл[40mпм[47mлпп[40mм[10C[34mмл[47mВл[40mлл[47mВВ[40mллллВ[0;34mБ[C[37musing[Cport[6;1H[1;30mлппп[CА[CАА[2Cмллмппп[Cм[47mп[40mлл[47mВВББ[40mлн[19C[34;44mп[0;34mп[7;1H[1;30;47mл[C[0mллммммммм[C[1;30mпп[2Cп[3Cпп[Cплллп[Cпппппппппппппппппп[3Cпппппппппппппппппппппл[8;1Hл[C[0mл[30;47mnode status[37;40mмммллмммм[5Cммлллллл[30;47m [37;40mл[30;47m         п                     [37;40mл[C[1;30mл[9;1Hл[C[0mл[1;47mкФФФФФФФФ[0;30;47mП[1;37mД[34;44mАБВ [37mincoming connection [34mВБА[0;30;47mУП кФ[1;37mД[34;44mАБВ[37m information [34mВБА[0;30;47mУФ[1;37mП[0mл[C[1;30mл[10;1Hл[C[0mл[1;47mГ[0;30;47m node 1 Г  [37;40mллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[11;1H[47mВ[C[0mл[1;47mГ[0;30;47m node 2 Г [37;40mлллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[12;1Hл[C[0mл[1;47mГ[0;30;47m node 3 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[13;1H[47mВ[C[0mл[1;47mГ[0;30;47m node 4 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[14;1H[47mБ[C[0mл[1;47mГ[0;30;47m node 5 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[15;1H[47mВ[C[0mл[1;47mР[0;30;47mФФФФФФФФйФФФФФФФФФФФФФФФФФФФФФФФФФФФФФй[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[16;1Hл[C[0mл[1;47mкФФФФФФФФ[0;30;47mП[1;37mД[34;44mАБВ[37m outgoing connection [34mВБА[0;30;47mУП[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[17;1Hл[C[0mл[1;47mГ[0;30;47m node 1 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[18;1H[47mВ[C[0mл[1;47mГ[0;30;47m node 2 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ[37;40mл[30;47mГ[1;37m                       Г[0mл[C[1;30mл[19;1Hл[C[0mл[1;47mГ[0;30;47m node 3 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ Г[1;37m                       Г[0mл[C[1;30mл[20;1H[47mВ[C[0mл[1;47mГ[0;30;47m node 4 Г[37;40mллллллллллллллллллллллллллллл[30;47mГ Г[1;37m                       Г[0mл[C[1;30mл[21;1H[47mБ[C[0mл[1;47mГ[0;30;47m node 5 Г[37;40mллллллллл[30;47m      [37;40mлллллллллллллл[30;47mГ Г[1;37m                       Г[0mл[C[1;30mл[22;1H[47mВ[C[0mл[1;47mР[0;30;47mФФФФФФФФйФФФФФФФФФФФФФФФФФФФФФФФФФФФФФй[37;40mл[30;47mР[1;37mФФФФФФФФФФФФФФФФФФФФФФФй[0mл[C[1;30mл[23;1Hл[C[0mл[30;47mФ[1mФФ[37mД[0;30;47m [1;37;44m snoop [0;30;47m connect  config  restart  exit  [1;37mУ[30mФФ[0;30;47mФФФФФФФФФФФФФФФФФФ[37;40mл[C[1;30mл[24;1Hл[C[0mпппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп[C[1;30mл[25;1Hпппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппппп[1;2H[37m [0m"};
// NodeGUI Message Window Clear
char *aBuf11={"[1;1H[10;46H[0;1;47m                       [11;46H                       [12;46H                       [13;46H                       [14;46H                       [15;46H                       [16;46H                       [17;46H                       [18;46H                       [19;46H                       [20;46H                       [21;46H                       [10;73H[40m [0m"};
// NodeGUI Snoop Message
char *aBuf12={"[1;1H[10;46H[0;1;47m Welcome to NTP v2.0b[0mл[30;47m [11;46H[37;40mл[30;47m=====================[37;40mл[12;46Hл[1;47mConsider each node a[0mл[30;47m [13;46H[37;40mл[1;47mseperate connection[0mлл[30;47m [14;46H[37;40mл[1;47mWhen [44m snoop [47m in on  [0mл[30;47m [15;46H[37;40mл[1;47mYou can hightlight a [0;30;47m [16;46H[37;40mл[1;47mincoming or outgoing [0;30;47m [17;46H[37;40mл[1;47mnode, Use [30m<[37mENTER[30m>[37m to[0;30;47m  [18;46H[37;40mл[1;47mview the file transfer[19;46H[0;30;47m [1;37mwindow. Use [44m connect [47m [20;46H To connect to a User  [21;46H[0;30;47m [1;37mor bbs to transfer!   [10;73H[40m [0m"};

 
// Transfer GUI
char *aBuf2={"[40m[2J[2B[0;1;34;44mА[2;4H[37;40mл[2Dл[3;3Hл[2;5Hл[3;4Hл[4;3Hл[6;1H[30mл[2;76H[37m4[71Dм[3;5Hп[4;4Hл[5;3Hп[6;2H[30mп[19;2Hп[2Dп[7;1H[47mл[18;1H[40mл[8;1Hл[2;75H/[BФ[71D[37mл[4;5Hн[5;4Hп[6;3H[30mп[17;1Hл[9;1Hл[16;1Hл[10;1Hл[15;1H[47mВ[11;1HВ[14;1HБ[12;1H[40mл[2;74H[37m3[2D[0mk[65D[1mл[2D[47mл[3;75H[0mФ[69D[1mл[5;5Hп[6;4H[30mп[19;3Hп[7;3H[0mл[18;3Hп[8;3Hл[13;1H[1;30;47mВ[2;72H[37;40m2[63Dл[3;74HФ[67D[47mл[4;7H[40mп[19;5H[30mп[2Dп[12A[0mм[2Dл[18;4Hп[8;4Hл[17;3Hл[9;3Hл[16;3Hл[10;3Hл[15;3Hл[11;3H[1;30;47m [14;3H[0mл[12;3Hл[2;11H[1mл[3;73HФ[65Dл[4;8H[47mл[6;6H[30;40mА[19;6Hп[7;6H[0mм[18;5Hп[8;5Hл[17;4H[30;47mФ[9;4H[1;37mк[16;4HР[10;4HГ[15;4HГ[11;4HГ[14;4HГ[12;4HГ[13;3H[0mл[2;70H[1me[59Dл[3;72HФ[2DФ[61D[34mА[2D[0mн[4;9H[1mл[19;7H[30mп[7;7H[0mм[18;6Hп[8;6Hл[17;5H[1;30;47mФ[9;5H[37mФ[16;5H[0;30;47mФ[10;5H [15;5H [11;5H [14;5H [12;5H [13;4H[1;37mГ[2;69H[40mt[57Dл[3;70HУ[59Dл[4;10H[0mн[6;9H[1;30mА[2DА[19;8Hп[7;8H[0mм[18;7Hп[8;7Hл[17;7H[1;47mД[2D[30mФ[8A[37mФ[2DФ[16;6H[0;30;47mФ[10;6H[1;37mf[15;6H[0;30;47mР[11;6H[1;37mf[14;6Ht[12;6Hb[13;5H[0;30;47m [2;68H[1;37;40ma[2DF[53Dл[2Dл[3;13H[47mн[4;12H[40mл[5;11H[30mм[19;9Hп[7;9H[0mм[18;8Hп[8;8Hл[16;7H[30;47mФ[10;7H[1;37mi[15;7H[0;30;47m-[11;7H[1;37mi[14;7Hi[12;7Hy[13;6H[0;30;47mР[1;18H[1;37;40mм[2Dл[2;16Hл[3;68Hc[4;13H[47mн[5;12H[30;40mм[19;72Hп[63Dп[7;72Hл[63D[0mм[18;9Hп[8;9Hл[17;9H[1;44m [2D[0;30;47m [8A[1;37mФ[2DФ[16;8H[0;30;47mФ[10;8H[1;37ml[15;8Hl[11;8Hl[14;8Hm[12;8Ht[13;7H[0;30;47m-[2;65H[1;37;40ml[49Dл[3;67Hi[2D[36md[51D[37mм[2Dм[5;13H[30mм[6;12Hм[19;71Hп[61Dп[7;71Hп[61D[0mм[18;72H[1;30mл[63D[0mп[8;72H[1;30mл[63D[0mл[17;72H[1;30mл[63D[37;44mr[9;72H[30;40mл[63D[37;47mФ[16;9H[0;30;47mФ[10;9H[1;37me[15;9He[11;9He[14;9He[12;9He[13;8Hl[2;64H[40mu[2Df[45DВ[2Dл[3;65H[0;36mi[49D[1;37mм[4;15Hл[5;14H[30mм[6;13Hл[19;70Hп[59Dп[7;70Hп[18;11H[0mп[8;11Hл[17;11H[1;44me[9;11H[47mФ[16;72H[30;40mл[63D[0;30;47mФ[10;72H[1;40mл[63D[37;47mn[15;72H[30;40mл[63D[37;47mf[11;72H[30;40mл[63D[37;47ms[14;72H[30;40mл[63D[37;47m [12;72H[30;40mл[63D[37;47ms[13;9He[2;62H[36;40my[43D[37mА[3;64H[0;36mc[47D[1;37mл[4;16H[47mн[5;67H[0me[53D[1;30mм[6;14Hл[19;69Hп[57Dп[7;69Hп[57Dп[18;70H[0mп[59Dп[8;70Hл[59Dл[17;70Hл[59D[1;44mt[9;70H[0mл[59D[1;47mФ[16;11H[0;30;47mФ[10;11H[1;37ma[15;11Ht[11;11Hi[14;11He[12;11H [13;72H[30;40mл[63D[37;47mf[2;61H[36;40mc[2D[0;36mr[39D[1;37mn[3;63H[30mA[45D[37mп[4;18H[30mм[5;66H[0md[51D[1;30mм[6;15Hм[19;68Hп[55Dп[7;68Hп[55Dп[18;69H[0mп[57Dп[8;69Hл[57Dл[17;69H[30;47mФ[57D[1;37;44mu[9;69H[0;30;47mП[57D[1;37mФ[16;70H[0mл[59D[30;47mФ[10;70H[37;40mл[59D[1;47mm[15;70H[0mл[59D[1;47m [11;70H[0mл[59D[1;47mz[14;70H[0mл[59D[1;47ml[12;70H[0mл[59D[1;47mr[13;11Ht[2;59H[0;36me[37D[1;37me[3;61HД[41D[0;34mм[4;19H[1;30mм[5;65H[0mo[2Dn[47D[1;30mл[2Dм[6;16Hп[19;67Hп[53Dп[7;67Hп[11B[0mп[55Dп[8;68Hл[55Dл[17;68H[30;47mФ[55D[1;37;44mr[9;68H[0;30;47mУ[55D[1;37mФ[16;69H[0;30;47mй[57DФ[10;69HГ[57D[1;37me[15;69H[0;30;47mГ[57D[1;37m([11;69H[0;30;47mГ[57D[1;37me[14;69H[0;30;47mГ[57D[1;37ma[12;69H[0;30;47mГ[57D[1;37me[13;70H[0mл[59D[1;47m [2;58H[30;40mM[34D[37me[2Dm[3;60HФ[39D[34;44mА[4;20H[30;40mм[5;19H[47mВ[6;18H[40mп[2Dп[19;66Hп[51Dп[7;66Hп[11B[0mп[53Dп[8;67Hл[53Dм[17;67H[30;47mФ[53D[1;37;44mn[9;67H[35;45m [53D[37;47mФ[16;68H[0;30;47mФ[55DФ[10;68H[1;37m [55D[0;30;47m [15;68H[1;37m [55De[11;68H[0;30;47m [55D[37;40mл[14;68Hл[55D[1;47mp[12;68H[0mл[55D[1;47mc[13;69H[0;30;47mГ[57D[1;37m [2;56H[30;40m)[2D[37mc[29Di[2Ds[3;59HФ[2DФ[35D[34;44mВ[2DБ[4;22H[30;40mм[2Dм[5;62H[0mf[43D[1;30mл[19;65Hп[2Dп[47Dп[2Dп[7;65Hп[2Dп[48Dп[18;66H[0mп[2Dп[49Dп[2Dп[8;66Hл[2Dл[49Dм[2Dм[17;66H[30;47mФ[51D[1;37;44m [9;66H[35;45mr[51D[37;47mФ[16;67H[0;30;47mФ[53DФ[10;67H[1;37m [53D[0mл[15;67H[1;47m [53Ds[11;67H[0;30;47m [53D[37;40mл[14;67Hл[53D[1;47ms[12;67H[0mл[53D[1;47me[13;68H[0mл[55D[1;47m [2;54H[30;40m([27D[37ms[3;57HФ[2DФ[31D[34mл[2D[44mВ[4;23H[30;40mм[5;61H[0mo[41D[1;30;47mл[6;20H[40mм[19;63Hп[45Dп[7;63Hп[11B[0mп[47Dп[8;64Hл[47Dл[17;65H[30;47mФ[49D[1;37m [9;65H[35;45me[49D[37;47mФ[16;66H[0;30;47mФ[51DФ[10;66H[1;37m [51D[0mл[15;66H[1;47m [51Dt[11;66H[0;30;47m [51D[37;40mл[14;66Hл[51D[1;47me[12;66H[0mл[51D[1;47mi[13;67H[0mл[53D[1;47m [2;31H[40mr[2Dt[3;55H[0mФ[29D[1;34mл[4;24H[30mм[5;59H[0ms[37D[1;30mп[2D[47mл[6;21Hп[19;62H[40mп[43Dп[7;62Hп[11B[0mп[45Dп[8;63Hл[45Dл[17;64H[30;47mФ[47Da[9;64H[1;35;45mf[47D[37;47mФ[16;65H[0;30;47mФ[49DФ[10;65H[1;37m [49D[0mл[15;65H[1;47m [49D.[11;65H[0;30;47m [49D[37;40mл[14;65Hл[49D[1;47md[12;65H[0mл[49D[1;47mv[13;66H[0mл[51D[1;47m [2;34H[40ms[2Dn[2Da[3;54H[30mФ[26D[34mл[2Dл[5;58H[0mu[35D[1;30mм[6;22Hл[19;61Hп[41Dп[7;61Hп[41Dп[18;62H[0mп[43Dп[8;62Hл[43Dм[17;63H[30;47mФ[45Db[9;63H[1;35;45ms[45D[37;47mФ[16;64H[0;30;47mФ[47DФ[10;64H[37;40mл[47Dл[15;64H[1;47m [47D)[11;64H [47D[0mл[14;64Hл[47Dл[12;64Hл[47D[1;47me[13;65H[0mл[49D[1;47m [2;46H[40ml[2Do[2Dc[2Do[2Dt[3Dr[2Dp[3Dr[2De[2Df[3;32H[34mл[2Dл[2Dл[5;57H[0mt[2Da[31D[1;30;47mп[2Dл[6;24HВ[2D[40mл[19;60Hп[39Dп[7;60Hп[39Dп[18;61H[0mп[41Dп[8;61Hл[41Dм[17;62H[30;47mФ[43Do[9;62H[1;35;45mn[43D[37;47mФ[16;63H[0;30;47mФ[45DФ[10;63H[1;37m [45D[0mл[15;63Hл[45D[1;47m [11;63H[0;30;47mФ[45D[37;40mл[14;63Hл[45Dл[12;63H[1;47m [45Dd[13;64H[0mл[47D[1;47m [2;41H[40mo[3;34H[34;47mВ[2D[40mл[5;55H[0mt[29D[1;30;47mп[6;25HВ[19;59H[40mп[37Dп[7;59Hп[11B[0mп[39Dп[8;60Hл[39Dм[17;61H[30;47mФ[41Dr[9;61H[1;35;45ma[41D[37;47mФ[16;62H[0;30;47mФ[43DФ[10;62H[1;37m [43D[0mл[15;62Hл[43D[1;47m [11;62H[0;30;47mУ[43D[37;40mл[14;62Hл[43Dл[12;62H[1;47m [43D[0mл[13;63Hл[45D[1;47m [3;46H[0;34mп[2D[1;44mп[2D[40mл[2Dл[2Dл[3D[47mВ[2DВ[2DВ[2D[40mл[2Dл[2Dл[4;50Hм[5;54H[0ms[27D[1;30mм[6;26H[47mБ[19;58H[40mп[2Dп[33Dп[2Dп[7;58Hп[2Dп[33Dл[2Dп[18;59H[0mп[37Dп[8;59Hл[37Dм[17;60H[30;47mФ[39Dt[9;60H[1;35;45mr[39D[37;47mФ[16;61H[0;30;47mФ[41DФ[10;61H[1;37m![41D-[15;61H[0mл[41D[1;47m-[11;21H-[14;61H[0mл[41D[1;47m-[12;61H [41D-[13;62H[0mл[43D[1;47m [3;41H[34mВ[4;49H[40mл[5;52H[0;34mБ[6;28H[1;30mл[2D[47mБ[19;56H[40mп[31Dп[7;56Hп[31Dл[18;58H[0mп[35Dп[8;58Hл[9B[30;47mФ[37D [9;59H[1;35;45mt[37D[37;47mФ[16;60H[0;30;47mФ[2DФ[37DФ[2DФ[10;60H[1;37me[2Dt[37D[0mл[2D[30;47m>[15;60H[37;40mл[39D[30;47m>[11;22H>[14;60H[37;40mл[39D[30;47m>[12;60H[1;37m [39D[0;30;47m>[13;61H[37;40mл[41D[1;47m-[4;44H[0;34mп[2D[1;44mп[2D[40mл[4D[30mx[2Ds[5;51H[34mВ[2Dл[6;29H[30mн[19;55Hп[29Dп[7;55Hп[29Dл[18;57H[0mп[2Dп[31Dп[2Dп[8;57Hл[2Dл[17;58H[30;47mФ[35D[1;37mУ[9;58H[35;45m [35D[37;47mФ[16;58H[0;30;47mФ[35DФ[10;58H[1;37me[35D[0mл[15;59Hл[37D[1;47m [11;23H[0mл[14;59Hл[37Dл[12;59H[1;47m [37D[0mл[13;60Hл[39D[30;47m>[4;41H[1;34;40mм[5;49Hл[2Dл[2Dл[19;54H[30mп[27Dп[7;54Hп[27Dп[18;55H[0mп[29Dп[8;55Hл[17;57H[30;47mФ[2DФ[31D[1mФ[2DФ[9;57H[35;45mt[2Dn[31D[37;47mФ[2DФ[16;57H[0;30;47mФ[33DФ[10;57H[1;37ml[33D[0mл[15;58Hл[35D[1;47m [11;24H[0mл[14;58Hл[35Dл[12;58H[1;47m [35D[0mл[13;59Hл[37Dл[5;46H[1;34;47mВ[2DВ[2D[40mл[2Dл[2D[47mл[3D[40mл[2Dм[6;50H[0;34mп[2D[1;44mп[19;53H[30;40mп[2Dп[23Dп[2Dп[7;53Hп[2Dп[23Dп[18;54H[0mп[27Dп[8;54Hл[9B[30;47mФ[29DФ[9;55H[1;35;45me[29D[37;47mФ[16;56H[0;30;47mФ[31DФ[10;56H[1;37mp[31D[0mл[15;57Hл[33D[1;47m [11;25H[0mл[14;57Hл[33Dл[12;57H[1;47m [33D[0mл[13;58Hл[35Dл[5;41H[1;34;47mВ[19;51H[30;40mп[2Dп[19Dп[2Dп[7;51Hп[20Dп[2Dп[18;53H[0mп[25Dп[8;53Hл[25Dм[17;54H[30;47mФ[27DФ[9;54H[1;35;45mr[27D[37;47mФ[16;55H[0;30;47mФ[29DФ[10;55H[1;37mm[29D[0mл[15;56Hл[31D[1;47m [11;26H[0mл[14;56Hл[31Dл[12;56H[1;47m [31D[0mл[13;57Hл[33Dл[19;49H[1;30mп[17Dп[7;33Hп[18;52H[0mп[2Dп[21Dп[2Dп[8;52Hл[2Dл[21Dл[2Dм[17;53H[30;47mФ[25DФ[9;53H[1;35;45mr[25D[37;47mФ[16;54H[0;30;47mФ[27DФ[10;54H[1;37mo[27D[0mл[15;55Hл[29D[1;47m [11;27H[0mл[14;55Hл[29Dл[12;55H[1;47m [29D[0mл[13;56Hл[31Dл[19;48H[1;30mп[2Dп[2Dп[11Dп[2Dп[2Dп[7;47Hп[2Dп[11Dп[2Dп[2Dп[18;50H[0mп[19Dп[8;50Hл[19Dл[17;52H[30;47mФ[23DФ[9;52H[1;35;45mu[23D[37;47mФ[16;53H[0;30;47mФ[25DФ[10;53H[1;37mc[25D[0mл[15;54Hл[27D[1;47m [11;28H[0mл[14;54Hл[27Dл[12;54H[1;47m [27D[0mл[13;55Hл[29Dл[19;45H[1;30mп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[7;45Hп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[18;49H[0mп[2Dп[15Dп[2Dп[8;49Hл[2Dм[15Dл[2Dл[17;51H[30;47mФ[2DФ[19DФ[2DФ[9;51H[1;35;45mc[2D [19D[37;47mФ[2DФ[16;52H[0;30;47mФ[23DФ[10;52H[1;37m [23D[0mл[15;53Hл[25D[1;47m [11;29H[0mл[14;53Hл[25Dл[12;53H[1;47m [25D[0mл[13;54Hл[27Dл[19;41H[1;30mп[7;41Hп[18;47H[0mп[2Dп[11Dп[2Dп[8;47Hл[2Dл[11Dл[2Dл[17;49H[30;47mФ[17DФ[9;49H[1;37mД[17DФ[16;51H[0;30;47mФ[21DФ[10;51H[1;37me[21D[0mл[15;52Hл[23D[1;47m [11;30H[0mл[14;52Hл[23Dл[12;52H[1;47m [23D[0mл[13;53Hл[25Dл[18;45Hп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[8;45Hл[2Dл[2Dл[2Dл[3Dл[2Dл[2Dл[2Dл[17;48H[30;47mФ[2DФ[13DФ[2DФ[9;48H[1;37mФ[2DФ[13DФ[2DФ[16;50H[0;30;47mФ[2DФ[17DФ[2DФ[10;50H[1;37mg[2Da[17D[0mл[2Dл[15;51Hл[21D[1;47m [11;31H[0mл[14;51Hл[21Dл[12;51H[1;47m [21D[0mл[13;52Hл[23Dл[18;41Hп[8;41Hл[17;46H[30;47mФ[11DФ[9;46H[1;37mФ[11DФ[16;48H[0;30;47mФ[15DФ[10;48H[1;37mt[15D[0mл[15;50Hл[19D[1;47m [11;32H[0mл[14;50Hл[19Dл[12;50H[1;47m [19D[0mл[13;51Hл[21Dл[17;45H[30;47mФ[2DФ[2DФ[2DФ[3DФ[2DФ[2DФ[2DФ[9;45H[1;37mФ[2DФ[2DФ[2DФ[3DФ[2DФ[2DФ[2DФ[16;47H[0;30;47mФ[13DФ[10;47H[1;37mn[13D[0mл[15;49Hл[2D[30;47m>[15D[1;37m [2D [4A[0mл[2Dл[14;49Hл[17Dл[12;49H[1;47m [17D[0mл[13;50Hл[19Dл[17;41H[30;47mФ[9;41H[1;37mФ[16;46H[0;30;47mФ[2DФ[9DФ[2DФ[10;46H[1;37me[2Dc[9D[0mл[2Dл[15;47H[1;47m-[13D [11;35H[0mл[14;48H[30;47m>[15D[37;40mл[12;48H[1;47m [15D[0mл[13;49Hл[17Dл[16;44H[30;47mФ[2DФ[2DФ[3DФ[2DФ[2DФ[10;44H[1;37mr[2De[2Dp[3D [2D[0mл[2Dл[15;46H[1;47m [11D [11;36H[0mл[14;47H[1;47m-[13D[0mл[12;47H[1;47m [13D[0mл[13;48H[30;47m>[15D[37;40mл[16;41H[30;47mФ[10;41H[1;37m [15;45Hs[2Du[7D [2D [4A[0mл[2Dл[14;46H[1;47m [11D[0mл[12;46H[1;47m [11D[0;30;47m [13;47H[1;37m-[13D[0mл[15;43H[1;47mt[2Da[3Ds[2D [4AФ[2D[0mл[14;45H[1;47m [9D[0mл[12;45H[1;47m [9D[0mл[13;46H[1;47m [11D[0mл[15;41H[1;47mt[11;41HД[14;44He[7D[0mл[12;44H[1;47m [7D[0mл[13;45H[1;47m [9D[0mл[14;43H[1;47mu[2De[3Dq[2D[0mл[12;43H[1;47m [2D [3D [2D[0mл[13;44H[1;47md[7D[0mл[14;41H[1;47mu[12;41H [13;43He[5D[0mл[2C[1;47me[2Dp[2Ds[1;1H[40m [0m"};
// Node Stat Ansi
char *aBuf3={"[40m[2J[2B[0;1;34;44mА[2;4H[37;40mл[2Dл[3;3Hл[2;5Hл[3;4Hл[4;3Hл[6;1H[30mл[2;76H[37m4[71Dм[3;5Hп[4;4Hл[5;3Hп[6;2H[30mп[19;2Hп[2Dп[7;1H[47mл[18;1H[40mл[8;1Hл[2;75H/[BФ[71D[37mл[4;5Hн[5;4Hп[6;3H[30mп[17;1Hл[9;1Hл[16;1Hл[10;1Hл[15;1H[47mВ[11;1HВ[14;1HБ[12;1H[40mл[2;74H[37m3[2D[0mk[65D[1mл[2D[47mл[3;75H[0mФ[69D[1mл[5;5Hп[6;4H[30mп[19;3Hп[7;3H[0mл[18;3Hп[8;3Hл[13;1H[1;30;47mВ[2;72H[37;40m2[63Dл[3;74HФ[67D[47mл[4;7H[40mп[19;5H[30mп[2Dп[12A[0mм[2Dл[18;4Hп[8;4Hл[17;3Hл[9;3Hл[16;3Hл[10;3Hл[15;3Hл[11;3H[1;30;47m [14;3H[0mл[12;3Hл[2;11H[1mл[3;73HФ[65Dл[4;8H[47mл[6;6H[30;40mА[19;6Hп[7;6H[0mм[18;5Hп[8;5Hл[17;4H[30;47mФ[9;4H[1;37mк[16;4HР[10;4HГ[15;4HГ[11;4HГ[14;4HГ[12;4HГ[13;3H[0mл[2;70H[1me[59Dл[3;72HФ[2DФ[61D[34mА[2D[0mн[4;9H[1mл[19;7H[30mп[7;7H[0mм[18;6Hп[8;6Hл[17;5H[1;30;47mФ[9;5H[37mФ[16;5H[0;30;47mФ[10;5H [15;5H [11;5H [14;5H [12;5H [13;4H[1;37mГ[2;69H[40mt[57Dл[3;70HУ[59Dл[4;10H[0mн[6;9H[1;30mА[2DА[19;8Hп[7;8H[0mм[18;7Hп[8;7Hл[17;7H[1;47mД[2D[30mФ[8A[37mФ[2DФ[16;6H[0;30;47mФ[10;6H[37;40mл[15;6H[1;47m [11;6H[0mл[14;6Hл[12;6Hл[13;5H[30;47m [2;68H[1;37;40ma[2DF[53Dл[2Dл[3;13H[47mн[4;12H[40mл[5;11H[30mм[19;9Hп[7;9H[0mм[18;8Hп[8;8Hл[16;7H[30;47mФ[10;7H[37;40mл[15;7H[1;47m [11;7H[0mл[14;7Hл[12;7Hл[13;6Hл[1;18H[1mм[2Dл[2;16Hл[3;68Hc[4;13H[47mн[5;12H[30;40mм[19;72Hп[63Dп[7;72Hл[63D[0mм[18;9Hп[8;9Hл[17;9H[1;44m [2D[0;30;47m [8A[1;37mФ[2DФ[16;8H[0;30;47mФ[10;8H[37;40mл[15;8H[1;47m [11;8H[0;30;47mS[14;8H[37;40mл[12;8H[30;47mN[13;7H[37;40mл[2;65H[1ml[49Dл[3;67Hi[2D[36md[51D[37mм[2Dм[5;13H[30mм[6;12Hм[19;71Hп[61Dп[7;71Hп[61D[0mм[18;72H[1;30mл[63D[0mп[8;72H[1;30mл[63D[0mл[17;72H[1;30mл[63D[37;44mr[9;72H[30;40mл[63D[37;47mФ[16;9H[0;30;47mФ[10;9H[37;40mл[15;9H[1;47m [11;9H[0;30;47mo[14;9H[37;40mл[12;9H[30;47mo[13;8Hs[2;64H[1;37;40mu[2Df[45DВ[2Dл[3;65H[0;36mi[49D[1;37mм[4;15Hл[5;14H[30mм[6;13Hл[19;70Hп[59Dп[7;70Hп[18;11H[0mп[8;11Hл[17;11H[1;44me[9;11H[47mФ[16;72H[30;40mл[63D[0;30;47mФ[10;72H[1;40mл[63D[0mл[15;72H[1;30mл[63D[37;47m [11;72H[30;40mл[63D[0;30;47mr[14;72H[1;40mл[63D[0mл[12;72H[1;30mл[63D[0;30;47md[13;9Hc[2;62H[1;36;40my[43D[37mА[3;64H[0;36mc[47D[1;37mл[4;16H[47mн[5;67H[0me[53D[1;30mм[6;14Hл[19;69Hп[57Dп[7;69Hп[57Dп[18;70H[0mп[59Dп[8;70Hл[59Dл[17;70Hл[59D[1;44mt[9;70H[0mл[59D[1;47mФ[16;11H[0;30;47mФ[10;11H[37;40mл[15;11H[1;47m [11;11H[0;30;47mr[14;11H[37;40mл[12;11H[30;47me[13;72H[1;40mл[63D[0;30;47mr[2;61H[1;36;40mc[2D[0;36mr[39D[1;37mn[3;63H[30mA[45D[37mп[4;18H[30mм[5;66H[0md[51D[1;30mм[6;15Hм[19;68Hп[55Dп[7;68Hп[55Dп[18;69H[0mп[57Dп[8;69Hл[57Dл[17;69H[30;47mФ[57D[1;37;44mu[9;69H[0;30;47mП[57D[1;37mФ[16;70H[0mл[59D[30;47mФ[10;70H[37;40mл[59Dл[15;70Hл[59D[1;47m [11;70H[0mл[59D[30;47my[14;70H[37;40mл[59Dл[12;70Hл[59D[30;47m.[13;11He[2;59H[36;40me[37D[1;37me[3;61HД[41D[0;34mм[4;19H[1;30mм[5;65H[0mo[2Dn[47D[1;30mл[2Dм[6;16Hп[19;67Hп[53Dп[7;67Hп[11B[0mп[55Dп[8;68Hл[55Dл[17;68H[30;47mФ[55D[1;37;44mr[9;68H[0;30;47mУ[55D[1;37mФ[16;69H[0;30;47mй[57DФ[10;69HГ[57D[37;40mл[15;69H[30;47mГ[57D[1;37m [11;69H[0;30;47mГ[57D,[14;69HГ[57D[37;40mл[12;69H[30;47mГ[57D [13;70H[37;40mл[59D[30;47me[2;58H[1;40mM[34D[37me[2Dm[3;60HФ[39D[34;44mА[4;20H[30;40mм[5;19H[47mВ[6;18H[40mп[2Dп[19;66Hп[51Dп[7;66Hп[11B[0mп[53Dп[8;67Hл[53Dм[17;67H[30;47mФ[53D[1;37;44mn[9;67H[35;45m [53D[37;47mФ[16;68H[0;30;47mФ[55DФ[10;68H[1;37m [55D[0mл[15;68H[1;47m [55D [11;68H[0;30;47m [55D [14;68H[37;40mл[55Dл[12;68Hл[55D[30;47mO[13;69HГ[57Dn[2;56H[1;40m)[2D[37mc[29Di[2Ds[3;59HФ[2DФ[35D[34;44mВ[2DБ[4;22H[30;40mм[2Dм[5;62H[0mf[43D[1;30mл[19;65Hп[2Dп[47Dп[2Dп[7;65Hп[2Dп[48Dп[18;66H[0mп[2Dп[49Dп[2Dп[8;66Hл[2Dл[49Dм[2Dм[17;66H[30;47mФ[51D[1;37;44m [9;66H[35;45mr[51D[37;47mФ[16;67H[0;30;47mФ[53DФ[10;67H[1;37m [53D[0mл[15;67H[1;47m [53D [11;67H[0;30;47m [53Db[14;67H[37;40mл[53Dл[12;67Hл[53D[30;47mn[13;68H[37;40mл[55D[30;47m [2;54H[1;40m([27D[37ms[3;57HФ[2DФ[31D[34mл[2D[44mВ[4;23H[30;40mм[5;61H[0mo[41D[1;30;47mл[6;20H[40mм[19;63Hп[45Dп[7;63Hп[11B[0mп[47Dп[8;64Hл[47Dл[17;65H[30;47mФ[49D[1;37m [9;65H[35;45me[49D[37;47mФ[16;66H[0;30;47mФ[51DФ[10;66H[37;40mл[51Dл[15;66H[1;47m [51D [11;66H[0mл[51D[30;47mu[14;66H[37;40mл[51Dл[12;66Hл[51D[30;47mc[13;67H[37;40mл[53D[30;47mw[2;31H[1;37;40mr[2Dt[3;55H[0mФ[29D[1;34mл[4;24H[30mм[5;59H[0ms[37D[1;30mп[2D[47mл[6;21Hп[19;62H[40mп[43Dп[7;62Hп[11B[0mп[45Dп[8;63Hл[45Dл[17;64H[30;47mФ[47D[1;37mУ[9;64H[35;45mf[47D[37;47mФ[16;65H[0;30;47mФ[49DФ[10;65H[37;40mл[49Dл[15;65H[1;47m [49D [11;65H[0mл[49D[30;47mt[14;65H[37;40mл[49Dл[12;65Hл[49D[30;47me[13;66H[37;40mл[51D[30;47mi[2;34H[1;37;40ms[2Dn[2Da[3;54H[30mФ[26D[34mл[2Dл[5;58H[0mu[35D[1;30mм[6;22Hл[19;61Hп[41Dп[7;61Hп[41Dп[18;62H[0mп[43Dп[8;62Hл[43Dм[17;63H[30;47mФ[45D[1mФ[9;63H[35;45ms[45D[37;47mФ[16;64H[0;30;47mФ[47DФ[10;64H[37;40mл[47Dл[15;64H[1;47m [47D [11;64H[0;30;47ms[47D [14;64H[37;40mл[47Dл[12;64H[30;47ms[47D [13;65H[37;40mл[49D[30;47ml[2;46H[1;37;40ml[2Do[2Dc[2Do[2Dt[3Dr[2Dp[3Dr[2De[2Df[3;32H[34mл[2Dл[2Dл[5;57H[0mt[2Da[31D[1;30;47mп[2Dл[6;24HВ[2D[40mл[19;60Hп[39Dп[7;60Hп[39Dп[18;61H[0mп[41Dп[8;61Hл[41Dм[17;62H[30;47mФ[43D[1mФ[9;62H[35;45mn[43D[37;47mФ[16;63H[0;30;47mФ[45DФ[10;63H[37;40mл[45Dл[15;63H[1;47m [45D [11;63H[0;30;47mi[45Dt[14;63H[37;40mл[45Dл[12;63H[30;47mi[45Da[13;64H [47Dl[2;41H[1;37;40mo[3;34H[34;47mВ[2D[40mл[5;55H[0mt[29D[1;30;47mп[6;25HВ[19;59H[40mп[37Dп[7;59Hп[11B[0mп[39Dп[8;60Hл[39Dм[17;61H[30;47mФ[41DФ[9;61H[1;35;45ma[41D[37;47mФ[16;62H[0;30;47mФ[43DФ[10;62H[37;40mл[43Dл[15;62H[1;47m [43D [11;62H[0;30;47mh[43Dh[14;62H[37;40mл[43Dл[12;62H[30;47mh[43D [13;63H [45D [3;46H[34;40mп[2D[1;44mп[2D[40mл[2Dл[2Dл[3D[47mВ[2DВ[2DВ[2D[40mл[2Dл[2Dл[4;50Hм[5;54H[0ms[27D[1;30mм[6;26H[47mБ[19;58H[40mп[2Dп[33Dп[2Dп[7;58Hп[2Dп[33Dл[2Dп[18;59H[0mп[37Dп[8;59Hл[37Dм[17;60H[30;47mФ[39DФ[9;60H[1;35;45mr[39D[37;47mФ[16;61H[0;30;47mФ[41DФ[10;61H[37;40mл[41Dл[15;61H[1;47m [41D [11;61H[0;30;47mt[41De[14;61H[37;40mл[41Dл[12;61H[30;47mt[41Dc[13;62H [43Dc[3;41H[1;34mВ[4;49H[40mл[5;52H[0;34mБ[6;28H[1;30mл[2D[47mБ[19;56H[40mп[31Dп[7;56Hп[31Dл[18;58H[0mп[35Dп[8;58Hл[9B[30;47mФ[37DФ[9;59H[1;35;45mt[37D[37;47mФ[16;60H[0;30;47mФ[2DФ[37DФ[2DФ[10;60H[37;40mл[2Dл[37Dл[2Dл[15;60H[1;47m [39D [11;60H[0;30;47m [39Dr[14;60H[37;40mл[39Dл[12;60H[30;47m [39Do[13;61H [41Do[4;44H[34;40mп[2D[1;44mп[2D[40mл[4D[30mx[2Ds[5;51H[34mВ[2Dл[6;29H[30mн[19;55Hп[29Dп[7;55Hп[29Dл[18;57H[0mп[2Dп[31Dп[2Dп[8;57Hл[2Dл[17;58H[30;47mФ[35DФ[9;58H[1;35;45m [35D[37;47mФ[16;58H[0;30;47mФ[35DФ[10;58H[37;40mл[35Dл[15;59H[1;47m [37D [11;59H[0;30;47mn[37De[14;59H[37;40mл[37Dл[12;59H[30;47m,[37Dn[13;60H [39Dn[4;41H[1;34;40mм[5;49Hл[2Dл[2Dл[19;54H[30mп[27Dп[7;54Hп[27Dп[18;55H[0mп[29Dп[8;55Hл[17;57H[30;47mФ[2DФ[31DФ[2DФ[9;57H[1;35;45mt[2Dn[31D[37;47mФ[2DФ[16;57H[0;30;47mФ[33DФ[10;57H[37;40mл[33Dл[15;58H[1;47m [35D [11;58H[0;30;47mo[35D [14;58H[37;40mл[35Dл[12;58H[30;47me[35Dn[13;59H [37Dv[5;46H[1;34mВ[2DВ[2D[40mл[2Dл[2D[47mл[3D[40mл[2Dм[6;50H[0;34mп[2D[1;44mп[19;53H[30;40mп[2Dп[23Dп[2Dп[7;53Hп[2Dп[23Dп[18;54H[0mп[27Dп[8;54Hл[9B[30;47mФ[29DФ[9;55H[1;35;45me[29D[37;47mФ[16;56H[0;30;47mФ[31DФ[10;56H[37;40mл[31Dл[15;57H[1;47m [33D [11;57H[0;30;47m [33Di[14;57H[37;40mл[33Dл[12;57H[30;47md[33De[13;58H [35De[5;41H[1;34mВ[19;51H[30;40mп[2Dп[19Dп[2Dп[7;51Hп[20Dп[2Dп[18;53H[0mп[25Dп[8;53Hл[25Dм[17;54H[30;47mФ[27DФ[9;54H[1;35;45mr[27D[37;47mФ[16;55H[0;30;47mФ[29DФ[10;55H[37;40mл[29Dл[15;56H[1;47m [31D [11;56H[0;30;47mw[31Ds[14;56H[37;40mл[31Dл[12;56H[30;47mo[31Dc[13;57H [33Dr[19;49H[1;40mп[17Dп[7;33Hп[18;52H[0mп[2Dп[21Dп[2Dп[8;52Hл[2Dл[21Dл[2Dм[17;53H[30;47mФ[25DФ[9;53H[1;35;45mr[25D[37;47mФ[16;54H[0;30;47mФ[27DФ[10;54H[37;40mл[27Dл[15;55H[1;47m [29D [11;55H[0;30;47me[29D [14;55H[37;40mл[29Dл[12;55H[30;47mn[29Dt[13;56H [31Dt[19;48H[1;40mп[2Dп[2Dп[11Dп[2Dп[2Dп[7;47Hп[2Dп[11Dп[2Dп[2Dп[18;50H[0mп[19Dп[8;50Hл[19Dл[17;52H[30;47mФ[23DФ[9;52H[1;35;45mu[23D[37;47mФ[16;53H[0;30;47mФ[25DФ[10;53H[37;40mл[25Dл[15;54H[1;47m [27D [11;54H[0;30;47mi[27Dc[14;54H[37;40mл[27Dл[12;54H[30;47m [27Di[13;55H.[29D [19;45H[1;40mп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[7;45Hп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[18;49H[0mп[2Dп[15Dп[2Dп[8;49Hл[2Dм[15Dл[2Dл[17;51H[30;47mФ[2DФ[19DФ[2DФ[9;51H[1;35;45mc[2D [19D[37;47mФ[2DФ[16;52H[0;30;47mФ[23DФ[10;52H[37;40mл[23Dл[15;53H[1;47m [25D [11;53H[0;30;47mv[25Du[14;53H[37;40mл[25Dл[12;53H[30;47ms[25Do[13;54Hw[27Do[19;41H[1;40mп[7;41Hп[18;47H[0mп[2Dп[11Dп[2Dп[8;47Hл[2Dл[11Dл[2Dл[17;49H[30;47mФ[17DФ[9;49H[1;37mД[17DФ[16;51H[0;30;47mФ[21DФ[10;51H[37;40mл[21Dл[15;52H[1;47m [23D [11;52H[0;30;47m [23Dr[14;52H[37;40mл[23Dл[12;52H[30;47mi[23Dn[13;53Ho[25Dv[18;45H[37;40mп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[8;45Hл[2Dл[2Dл[2Dл[3Dл[2Dл[2Dл[2Dл[17;48H[30;47mФ[2DФ[13DФ[2DФ[9;48H[1;37mФ[2DФ[13DФ[2DФ[16;50H[0;30;47mФ[2DФ[17DФ[2DФ[10;50H[37;40mл[2Dл[17Dл[2Dл[15;51H[1;47m [21D [11;51H[0;30;47mo[21Dr[14;51H[37;40mл[21Dл[12;51H[30;47mh[21D [13;52Hd[23De[18;41H[37;40mп[8;41Hл[17;46H[30;47mФ[11DФ[9;46H[1;37mФ[11DФ[16;48H[0;30;47mФ[15DФ[10;48H[37;40mл[15Dл[15;50H[1;47m [19D [11;50H[0;30;47mt[19De[14;50H[37;40mл[19Dл[12;50H[30;47mt[19Di[13;51Hn[21Dr[17;45HФ[2DФ[2DФ[2DФ[3DФ[2DФ[2DФ[2DФ[9;45H[1;37mФ[2DФ[2DФ[2DФ[3DФ[2DФ[2DФ[2DФ[16;47H[0;30;47mФ[13DФ[10;47H[37;40mл[13Dл[15;49H[1;47m [2D [15D [2D [11;49H[0;30;47m [2Dr[15Dt[2Dn[14;49H[37;40mл[17Dл[12;49H[30;47m [17Ds[13;50Hi[19D [17;41HФ[9;41H[1;37mФ[16;46H[0;30;47mФ[2DФ[9DФ[2DФ[10;46H[37;40mл[2Dл[9Dл[2Dл[15;47H[1;47m [13D [11;47H[0;30;47me[13Dl[14;48H[37;40mл[15Dл[12;48H[30;47mn[15D [13;49Hw[17Dt[16;44HФ[2DФ[2DФ[3DФ[2DФ[2DФ[10;44H[37;40mл[2Dл[2Dл[3Dл[2Dл[2Dл[15;46H[1;47m [11D [11;46H[0;30;47mf[11Dy[14;47H[37;40mл[13Dл[12;47H[30;47mo[13De[13;48H [15Do[16;41HФ[10;41H[37;40mл[15;45H[1;47m [2D [7D [2D [11;45H[0;30;47ms[2Dn[7Dn[2D [14;46H[37;40mл[11Dл[12;46H[30;47m [11Ds[13;47Hr[13D [15;43H[1;37m [2D [3D [2D [11;43H[0;30;47ma[2Dr[3D [2Do[14;45H[37;40mл[9Dл[12;45H[30;47md[9Dt[13;46He[11Dt[15;41H[1;37m [11;41H[0;30;47mt[14;44H[37;40mл[7Dл[12;44H[30;47me[7Da[13;45Hf[9Dh[14;43H[37;40mл[2Dл[3Dл[2Dл[12;43H[30;47mh[2Ds[3Dl[2Db[13;44Hs[7De[14;41H[37;40mл[12;41H[30;47mi[13;43Hn[5D [2Ca[2Dr[2Dt[1;1H[0m"};
// Batch Queue
char *aBuf4={"[40m[2J[25;2H[0;1;30mп[2Dп[Cп[24;1Hл[25;4Hп[23;1Hл[3;1H[34;44mА[22;1H[30;47mВ[25;5H[40mп[24;4H[0mп[2Dп[22A[1mл[2Dл[23;3H[0mл[3;3H[1mл[21;1H[30;47mБ[25;6H[40mп[24;5H[0mп[2;5H[1mл[23;4H[0;30;47mФ[3;4H[1;37;40mл[22;3H[0mл[4;3H[1mл[20;1H[30;47mВ[6;1H[40mл[25;7Hп[24;6H[0mп[2;76H[1m4[71Dм[23;5H[30;47mФ[3;5H[37;40mп[22;4H[0;30;47mР[4;4H[1;37;40mл[21;3H[0mл[5;3H[1mп[6;2H[30mп[19;1Hл[7;1H[47mл[18;1HВ[8;1H[40mл[25;9Hп[2Dп[24;7H[0mп[2;75H[1;30m/[23;6H[47mФ[3;76H[40mФ[71D[37mл[22;5H[47mФ[4;5H[40mн[21;4H[0;30;47mГ[5;4H[1;37;40mп[20;3H[0mл[6;3H[1;30mп[17;1Hл[9;1Hл[16;1Hл[10;1Hл[15;1H[47mВ[11;1HВ[14;1HБ[12;1H[40mл[25;72Hп[63Dп[24;9H[0mп[2Dп[2;74H[1m3[2D[0mk[65D[1mл[2D[47mл[23;7HД[3;75H[0mФ[69D[1mл[22;6H[47mФ[21;5H [5;5H[40mп[20;4H[0;30;47mГ[6;4H[1;40mп[19;3H[0mл[7;3Hл[18;3Hл[8;3Hл[13;1H[1;30;47mВ[25;71H[40mп[61Dп[24;72Hл[63D[0mп[2;72H[1m2[63Dл[23;8H[0;30;47m [3;74H[1;37;40mФ[67D[47mл[22;7HФ[4;7H[40mп[21;6H[47m [20;5H [19;5H [2D[0;30;47mГ[12A[37;40mм[2Dл[18;4H[30;47mГ[8;4Hb[17;3H[37;40mл[9;3Hл[16;3Hл[10;3Hл[15;3Hл[11;3Hл[14;3Hл[12;3Hл[25;70H[1;30mп[2Dп[57Dп[2Dп[24;11H[0mп[2;11H[1mл[23;9H[44m [3;73H[40mФ[65Dл[22;8H[47mФ[4;8Hл[21;7H [20;6H [6;6H[30;40mА[19;6H[37;47m [7;6H[0mм[18;5H[1;47m [8;5H[0;30;47ma[17;4HГ[9;4Hк[16;4HГ[10;4HГ[15;4HГ[11;4HГ[14;4HГ[12;4HГ[13;3H[37;40mл[25;68H[1;30mп[55Dп[24;70H[0mп[59Dп[2;70H[1me[59Dл[23;72H[30mл[62D[37;44md[2Da[3;72H[40mФ[2DФ[61D[34mА[2D[0mн[22;9H[1;47mФ[4;9H[40mл[21;8H[47m [20;7H [19;7H [7;7H[0mм[18;6H[1;47m [8;6H[0;30;47mt[17;5H[1;37m [9;5H[0;30;47mФ[16;5H[1;37m [10;5H [15;5H [11;5H [14;5H [12;5H [13;4H[0;30;47mГ[25;67H[1;40mп[53Dп[24;69H[0mп[57Dп[2;69H[1mt[57Dл[23;70H[0mл[59D[1;44md[3;70H[40mУ[59Dл[22;72H[30mл[63D[37;47mФ[4;10H[0mн[21;72H[1;30mл[63D[37;47m [2D [20;9H [2D [14A[30;40mА[2DА[19;8H[37;47m [7;8H[0mм[18;7H[1;47m [8;7H[0;30;47mc[17;7H[1;37m [2D [8A[0;30;47mФ[2DФ[16;6H[1;37m [10;6H [15;6H [11;6H [14;6H [12;6H [13;5H [25;66H[30;40mп[51Dп[24;68H[0mп[2Dп[53Dп[2Dп[2;68H[1ma[2DF[53Dл[2Dл[23;69H[0;30;47mФ[57D[1;37;44m [3;13H[47mн[22;70H[0mл[59D[1;47mФ[2DФ[18A[40mл[21;11H[47m [5;11H[30;40mм[20;72Hл[63D[37;47m [19;9H [7;9H[0mм[18;8H[1;47m [8;8H[0;30;47mh[16;7H[1;37m [10;7H [15;7H [11;7H [14;7H [12;7H [13;6H [25;65H[30;40mп[2Dп[47Dп[2Dп[24A[37mм[2Dл[24;66H[0mп[51Dп[2;16H[1mл[23;68H[0;30;47mФ[55D [3;68H[1;37;40mc[19B[47mй[57DФ[4;13Hн[21;70H[0mл[59D[1;47m [5;12H[30;40mм[20;11H[37;47m [19;72H[30;40mл[63D[37;47m [7;72H[30;40mл[63D[0mм[18;9H[1;47m [8;9H[0;30;47m [17;9H[1;37m [2D [8A[0;30;47mФ[2DФ[16;8H[1;37m [10;8H [15;8H [11;8H [14;8H [12;8H [13;7H [25;63H[30;40mп[45Dп[24;65H[0mп[49Dп[2;65H[1ml[49Dл[23;67H[0;30;47mФ[2DФ[51De[2Dd[3;67H[1;37;40mi[2D[36md[51D[37mм[2Dм[22;68H[47mФ[55DФ[21;69HГ[57D [5;13H[30;40mм[20;70H[0mл[59D[1;47m [6;12H[30;40mм[19;11H[37;47m [7;71H[30;40mп[61D[0mм[18;72H[1;30mл[63D[37;47m [8;72H[30;40mл[63D[0;30;47mq[17;72H[1;40mл[63D[37;47m [9;72H[30;40mл[63D[0;30;47mФ[16;9H[1;37m [10;9H [15;9H [11;9H [14;9H [12;9H [13;8H [25;62H[30;40mп[2Dп[41Dп[2Dп[24;64H[0mп[2Dп[45Dп[2Dп[2;64H[1mu[2Df[45DВ[2Dл[23;65H[0;30;47mФ[49Dl[3;65H[36;40mi[49D[1;37mм[22;67H[47mФ[53DФ[4;15H[40mл[21;68H[47m [55D [5;14H[30;40mм[20;69H[37;47mГ[57D [6;13H[30;40mл[19;70H[0mл[59D[1;47m [7;70H[30;40mп[18;11H[37;47m [8;11H[0;30;47mu[17;11H[1;37m [9;11H[0;30;47mФ[16;72H[1;40mл[63D[37;47m [10;72H[30;40mл[63D[37;47m [15;72H[30;40mл[63D[37;47m [11;72H[30;40mл[63D[37;47m [14;72H[30;40mл[63D[37;47m [12;72H[30;40mл[63D[37;47m [13;9H [25;60H[30;40mп[2Dп[37Dп[2Dп[24;62H[0mп[43Dп[2;62H[1;36my[43D[37mА[23;64H[0;30;47mФ[47De[3;64H[36;40mc[47D[1;37mл[22;66H[47mФ[2DФ[49DФ[2DФ[4;16Hн[21;67H [53D [5;15H[30;40mм[20;68H[37;47m [55D [6;14H[30;40mл[19;69H[37;47mГ[57D [7;69H[30;40mп[57Dп[18;70H[0mл[59D[1;47m [8;70H[0mл[59D[30;47me[17;70H[37;40mл[59D[1;47m [9;70H[0mл[59D[30;47mФ[16;11H[1;37m [10;11H [15;11H [11;11H [14;11H [12;11H [13;72H[30;40mл[63D[37;47m [25;58H[30;40mп[35Dп[24;61H[0mп[2Dп[39Dп[2Dп[2;61H[1;36mc[2D[0;36mr[39D[1;37mn[23;63H[0;30;47mФ[2DФ[43De[2Dt[3;63H[1;40mA[45D[37mп[22;64H[47mФ[47DФ[4;18H[30;40mм[21;66H[37;47m [51D [5;16H[30;40mм[20;67H[37;47m [53D [6;15H[30;40mм[19;68H[37;47m [55D [7;68H[30;40mп[55Dп[18;69H[37;47mГ[57D [8;69H[0;30;47m [57Du[17;69H[1;37mГ[57D [9;69HП[57D[0;30;47mФ[16;70H[37;40mл[59D[1;47m [10;70H[0mл[59D[1;47m [15;70H[0mл[59D[1;47m [11;70H[0mл[59D[1;47m [14;70H[0mл[59D[1;47m [12;70H[0mл[59D[1;47m [13;11H [25;57H[30;40mп[2Dп[31Dп[2Dп[24;59H[0mп[37Dп[2;59H[36me[37D[1;37me[23;61H[0;30;47mФ[41D [3;61H[1;37;40mД[41D[0;34mм[22;63H[1;37;47mФ[45DФ[4;19H[30;40mм[21;65H[37;47m [2D [47D [2D [16A[30;40mл[2Dм[20;66H[37;47m [51D [6;16H[30;40mп[19;67H[37;47m [53D [7;67H[30;40mп[11B[37;47m [55D [8;68H[0;30;47m [55De[17;68H[1;37m [55D [9;68H[0;30;47mФ[55DФ[16;69H[1;37mГ[57D [10;69HГ[57D [15;69HГ[57D [11;69HГ[57D [14;69HГ[57D [12;69HГ[57D [13;70H[0mл[59D[1;47m [25;55H[30;40mп[2Dп[27Dп[2Dп[24;58H[0mп[2Dп[33Dп[2Dп[2;58H[1;30mM[34D[37me[2Dm[23;60H[0;30;47mФ[39D [3;60H[1;37;40mФ[39D[34;44mА[22;62H[37;47mФ[43DФ[4;20H[30;40mм[21;63H[37;47m [45D [5;63H[0me[45D[1;30;47mВ[20;65H[37m [2D [47D [2D [14A[30;40mп[2Dп[19;66H[37;47m [51D [7;66H[30;40mп[11B[37;47m [53D [8;67H[0;30;47m [53D[37;40mм[17;67H[1;47m [53D [9;67H[0;30;47mФ[53DФ[16;68H[1;37m [55D [10;68H [55D [15;68H [55D [11;68H [55D [14;68H [55D [12;68H [55D [13;69HГ[57D [25;53H[30;40mп[2Dп[2Dп[21Dп[2Dп[2Dп[24;56H[0mп[2Dп[29Dп[2Dп[2;56H[1;30m)[2D[37mc[29Di[2Ds[23;59H[0;30;47mФ[2DФ[35Dr[2Dt[3;59H[1;37;40mФ[2DФ[35D[34;44mВ[2DБ[22;61H[37;47mФ[2DФ[39DФ[2DФ[18A[30;40mм[2Dм[21;62H[37;47m [43D [5;62H[0md[43D[1;30mл[20;63H[37;47m [45D [19;65H [2D [47D [2D [7;65H[30;40mп[2Dп[48Dп[18;66H[37;47m [2D [49D [2D [8;66H[0;30;47m [2D [49D[37;40mм[2Dм[17;66H[1;47m [51D [9;66H[0;30;47mФ[51DФ[16;67H[1;37m [53D [10;67H [53D [15;67H [53D [11;67H [53D [14;67H [53D [12;67H [53D [13;68H [55D [25;50H[30;40mп[2Dп[2Dп[15Dп[2Dп[2Dп[24;54H[0mп[2Dп[25Dп[2Dп[2;54H[1;30m([27D[37ms[23;57H[0;30;47mФ[2DФ[31Dn[2Da[3;57H[1;37;40mФ[2DФ[31D[34mл[2D[44mВ[22;59H[37;47mФ[37DФ[4;23H[30;40mм[21;61H[37;47m [41D [5;61H[0mo[41D[1;30;47mл[20;62H[37m [43D [6;20H[30;40mм[19;63H[37;47m [45D [7;63H[30;40mп[11B[37;47m [47D [8;64H[0;30;47m [47D[37;40mл[17;65H[1;47m [49D [9;65H[0;30;47mФ[49DФ[16;66H[1;37m [51D [10;66H [51D [15;66H [51D [11;66H [51D [14;66H [51D [12;66H [51D [13;67H [53D [25;47H[30;40mп[2Dп[2Dп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[2Dп[2Dп[24;52H[0mп[2Dп[21Dп[2Dп[22A[1mr[2Dt[23;55H[0;30;47mФ[29Ds[3;55H[37;40mФ[29D[1;34mл[22;58H[37;47mФ[2DФ[33DФ[2DФ[4;24H[30;40mм[21;60H[37;47m [2D [37D [2D [5;60H[0mn[38D[1;30mп[2D[47mл[20;61H[37m [41D [6;21H[30mп[19;62H[37m [43D [7;62H[30;40mп[11B[37;47m [45D [8;63H[0;30;47m [45D[37;40mл[17;64H[1;47m [47D [9;64H[0;30;47mФ[47DФ[16;65H[1;37m [49D [10;65H [49D [15;65H [49D [11;65H [49D [14;65H [49D [12;65H [49D [13;66H [51D [25;41H[30;40mп[24;50H[0mп[2Dп[2Dп[15Dп[2Dп[2Dп[2;34H[1ms[2Dn[2Da[23;54H[0;30;47mФ[2DФ[25De[2Df[3;54H[1;40mФ[26D[34mл[2Dл[22;56H[37;47mФ[31DФ[21;58H [35D [5;58H[0mg[35D[1;30mм[20;60H[37;47m [39D [6;22H[30;40mл[19;61H[37;47m [41D [7;61H[30;40mп[41Dп[18;62H[37;47m [43D [8;62H[0;30;47m [43D[37;40mм[17;63H[1;47m [45D [9;63H[0;30;47mФ[45DФ[16;64H[1;37m [47D [10;64H [47D [15;64H [47D [11;64H [47D [14;64H [47D [12;64H [47D [13;65H [49D [24;47H[0mп[2Dп[2Dп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[2Dп[2Dп[2;46H[1ml[2Do[2Dc[2Do[2Dt[3Dr[2Dp[3Dr[2De[2Df[23;52H[0;30;47mФ[2DФ[2DФ[19D [2D [2Dr[3;32H[1;34;40mл[2Dл[2Dл[22;55H[37;47mФ[2DФ[27DФ[2DФ[21;57H [2D [31D [2D [5;57H[0mn[2Di[31D[1;30;47mп[2Dл[20;59H[37m [2D [35D [2D [14A[30mВ[2D[40mл[19;60H[37;47m [39D [7;60H[30;40mп[39Dп[18;61H[37;47m [41D [8;61H[0;30;47m [41D[37;40mм[17;62H[1;47m [43D [9;62H[0;30;47mФ[43DФ[16;63H[1;37m [45D [10;63H [45D [15;63H [45D [11;63H [45D [14;63H [45D [12;63H [45D [13;64H [47D [24;41H[0mп[2;41H[1mo[23;49H[0;30;47mФ[2DФ[15Dx[2De[20A[1;34mВ[2D[40mл[22;53H[37;47mФ[2DФ[23DФ[2DФ[21;55H [29D [5;55H[0ms[29D[1;30;47mп[20;57H[37m [33D [6;25H[30mВ[19;59H[37m [37D [7;59H[30;40mп[11B[37;47m [39D [8;60H[0;30;47m [39D[37;40mм[17;61H[1;47m [41D [9;61H[0;30;47mФ[41DФ[16;62H[1;37m [43D [10;62H [43D [15;62H [43D [11;62H [43D [14;62H [43D [12;62H [43D [13;63H [45D [23;47H[0;30;47mФ[2DФ[2DФ[2DФ[2DФ[2DФ[3D[1mФ[2D[37mУ[2D[0;30;47m [2D [2Dt[2Di[3;46H[34;40mп[2D[1;44mп[2D[40mл[2Dл[2Dл[3D[47mВ[2DВ[2DВ[2D[40mл[2Dл[2Dл[22;51H[37;47mФ[2DФ[19DФ[2DФ[4;50H[34;40mм[21;54H[37;47m [2D [25D [2D [5;54H[0mu[27D[1;30mм[20;56H[37;47m [31D [6;26H[30mБ[19;58H[37m [2D [33D [2D [7;58H[30;40mп[2Dп[33Dл[2Dп[18;59H[37;47m [37D [8;59H[0;30;47m [37D[37;40mм[17;60H[1;47m [39D [9;60H[0;30;47mФ[39DФ[16;61H[1;37m [41D [10;61H [41D [15;61H [41D [11;61H [41D [14;61H [41D [12;61H [41D [13;62H [43D [23;41H[30mФ[3;41H[34mВ[22;49H[37mФ[2DФ[2DФ[13DФ[2DФ[2DФ[4;49H[34;40mл[21;52H[37;47m [23D [5;52H[0;34mБ[20;55H[1;37;47m [2D [27D [2D [14A[30;40mл[2D[47mБ[19;56H[37m [31D [7;56H[30;40mп[31Dл[18;58H[37;47m [35D [8;58H[0;30;47m [9B[1;37m [37D [9;59H[0;30;47mФ[37DФ[16;60H[1;37m [2D [37D [2D [10;60H [2D [37D [2D [15;60H [39D [11;60H [39D [14;60H [39D [12;60H [39D [13;61H [41D [22;46HФ[2DФ[2DФ[2DФ[2DФ[3DФ[2DФ[2DФ[2DФ[2DФ[4;44H[0;34mп[2D[1;44mп[2D[40mл[4D[30mx[2Ds[21;51H[37;47m [2D [19D [2D [5;51H[34;40mВ[2Dл[20;53H[37;47m [25D [6;29H[30;40mн[19;55H[37;47m [29D [7;55H[30;40mп[29Dл[18;57H[37;47m [2D [31D [2D [8;57H[0;30;47m [2D [17;58H[1;37m [35D [9;58H[0;30;47mФ[35DФ[16;58H[1;37m [35D [10;58H [35D [15;59H [37D [11;59H [37D [14;59H [37D [12;59H [37D [13;60H [39D [22;41HФ[4;41H[34;40mм[21;49H[37;47m [2D [2D [13D [2D [2D [5;49H[34;40mл[2Dл[2Dл[20;52H[37;47m [2D [21D [2D [19;54H [27D [7;54H[30;40mп[27Dп[18;55H[37;47m [29D [8;55H[0;30;47m [17;57H[1;37m [2D [31D [2D [9;57H[0;30;47mФ[2DФ[31DФ[2DФ[16;57H[1;37m [33D [10;57H [33D [15;58H [35D [11;58H [35D [14;58H [35D [12;58H [35D [13;59H [37D [21;46H [2D [2D [2D [2D [3D [2D [2D [2D [2D [5;46H[34mВ[2DВ[2D[40mл[2Dл[2D[47mл[3D[40mл[2Dм[20;50H[37;47m [2D [17D [2D [6;50H[0;34mп[2D[1;44mп[19;53H[37;47m [2D [23D [2D [7;53H[30;40mп[2Dп[23Dп[18;54H[37;47m [27D [8;54H[0;30;47m [9B[1;37m [29D [9;55H[0;30;47mФ[29DФ[16;56H[1;37m [31D [10;56H [31D [15;57H [33D [11;57H [33D [14;57H [33D [12;57H [33D [13;58H [35D [21;41H [5;41H[34mВ[20;48H[37m [2D [13D [2D [19;51H [2D [19D [2D [7;51H[30;40mп[20Dп[2Dп[18;53H[37;47m [25D [8;53H[0;30;47m [25D[37;40mм[17;54H[1;47m [27D [9;54H[0;30;47mФ[27DФ[16;55H[1;37m [29D [10;55H [29D [15;56H [31D [11;56H [31D [14;56H [31D [12;56H [31D [13;57H [33D [20;46H [2D [2D [2D [2D [3D [2D [2D [2D [2D [19;49H [17D [7;33H[30;40mп[18;52H[37;47m [2D [21D [2D [8;52H[0;30;47m [2D [21D[37;40mл[2Dм[17;53H[1;47m [25D [9;53H[0;30;47mФ[25DФ[16;54H[1;37m [27D [10;54H [27D [15;55H [29D [11;55H [29D [14;55H [29D [12;55H [29D [13;56H [31D [20;41H [19;48H [2D [2D [11D [2D [2D [7;47H[30;40mп[2Dп[11Dп[2Dп[2Dп[18;50H[37;47m [19D [8;50H[0;30;47m [19D[37;40mл[17;52H[1;47m [23D [9;52H[0;30;47mФ[23DФ[16;53H[1;37m [25D [10;53H [25D [15;54H [27D [11;54H [27D [14;54H [27D [12;54H [27D [13;55H [29D [19;45H [2D [2D [2D [3D [2D [2D [2D [7;45H[30;40mп[2Dп[2Dп[2Dп[3Dп[2Dп[2Dп[2Dп[18;49H[37;47m [2D [15D [2D [8;49H[0;30;47m [2Dп[15D[37;40mл[2Dл[17;51H[1;47m [2D [19D [2D [9;51H[0;30;47mФ[2DФ[19DФ[2DФ[16;52H[1;37m [23D [10;52H [23D [15;53H [25D [11;53H [25D [14;53H [25D [12;53H [25D [13;54H [27D [19;41H [7;41H[30;40mп[18;47H[37;47m [2D [11D [2D [8;47H[0;30;47m [2D [11D[37;40mл[2Dл[17;49H[1;47m [17D [9;49H[0;30;47mФ[17DФ[16;51H[1;37m [21D [10;51H [21D [15;52H [23D [11;52H [23D [14;52H [23D [12;52H [23D [13;53H [25D [18;45H [2D [2D [2D [3D [2D [2D [2D [8;45H[0;30;47m [2D [2D [2D [3D [2D [2D[37;40mл[2D[30;47m [17;48H[1;37m [2D [13D [2D [9;48H[0;30;47mФ[2DФ[13DФ[2DФ[16;50H[1;37m [2D [17D [2D [10;50H [2D [17D [2D [15;51H [21D [11;51H [21D [14;51H [21D [12;51H [21D [13;52H [23D [18;41H [8;41H[0;30;47m [17;46H[1;37m [11D [9;46H[0;30;47mФ[11DФ[16;48H[1;37m [15D [10;48H [15D [15;50H [19D [11;50H [19D [14;50H [19D [12;50H [19D [13;51H [21D [17;45H [2D [2D [2D [3D [2D [2D [2D [9;45H[0;30;47mФ[2DФ[2DФ[2DФ[3DФ[2DФ[2DФ[2DФ[16;47H[1;37m [13D [10;47H [13D [15;49H [2D [15D [2D [11;49H [2D [15D [2D [14;49H [17D [12;49H [17D [13;50H [19D [17;41H [9;41H[0;30;47mФ[16;46H[1;37m [2D [9D [2D [10;46H [2D [9D [2D [15;47H [13D [11;47H [13D [14;48H [15D [12;48H [15D [13;49H [17D [16;44H [2D [2D [3D [2D [2D [10;44H [2D [2D [3D [2D [2D [15;46H [11D [11;46H [11D [14;47H [13D [12;47H [13D [13;48H [15D [16;41H [10;41H [15;45H [2D [7D [2D [11;45H [2D [7D [2D [14;46H [11D [12;46H [11D [13;47H [13D [15;43H [2D [3D [2D [11;43H [2D [3D [2D [14;45H [9D [12;45H [9D [13;46H [11D [15;41H [11;41H [14;44H [7D [12;44H [7D [13;45H [9D [14;43H [2D [3D [2D [12;43H [2D [3D [2D [13;44H [7D [14;41H [12;41H [13;43H [5D [2C [2D [2D [1;1H[0m [0m"};

short PORT;

int main(int argc, char **argv) {

    #ifdef _WIN32
	SetConsoleTitle(VERSION);
	#else
	system("clear");
	printf("\n\n%s",VERSION);
	#endif

	// Check for port argument
	if (argc != 2)	{
	    #ifdef _WIN32
	    system("cls");
	    #else
	    system("clear");
	    #endif
		printf("\n%s\n", VERSION);
		printf("Syntax: NTP-USER.EXE PortNumber\n\n");
		return 1;
	}

	// get port no
	PORT = atoi(argv[1]);
	
	#ifdef _WIN32
    // Turn Windows Cursor Off for Smoother Ansimation
    HANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE);
    CONSOLE_CURSOR_INFO CCI;
    GetConsoleCursorInfo(hOut, &CCI);
    CCI.bVisible = false;
    SetConsoleCursorInfo(hOut, &CCI);        
	#endif
        
    #ifdef _WIN32
	WORD wVersionRequested = MAKEWORD(1,1);
	WSADATA wsaData;
	
	WSAStartup(wVersionRequested, &wsaData);
	if (wsaData.wVersion != wVersionRequested)	{
		printf("Error: Winsock 1.1 Unsupported!\n");
		exit(1);
	}
    #endif    
    
    // Start Console Input Thread
    #ifdef _WIN32
    HANDLE ahThread[2];
    ahThread[0] = (HANDLE)_beginthread( input, 0, (void*)&PORT );
    //ahThread[1] = (HANDLE)_beginthread( InputThreadProc, 0, (void*)&iPort );
    #else
    /* Disabled Linux Input for Now
	pthread_t thread;
    pthread_create(&thread, NULL, input, (void*)iPort);
    */
    #endif
   
    // Start Program Server Here
    StartServer(PORT);

    return 0;
}

